<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detail Klaim Penemuan</title>

  <link rel="stylesheet" href="{{ url_for('admin_bp.static', filename='css/beranda.css') }}">
  <link rel="stylesheet" href="{{ url_for('admin_bp.static', filename='css/detail_kehilangan.css') }}">
  <link rel="stylesheet" href="{{ url_for('admin_bp.static', filename='css/detail_klaim_penemuan.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>

  <div class="sidebar">
    <div>
      <div class="logo-wrapper">
        <img src="{{ url_for('admin_bp.static', filename='image/rectangle.png')}}" class="rectangle-bg">
        <img src="{{ url_for('admin_bp.static', filename='image/logo.png')}}" class="logo-front">
      </div>

      <nav>
        <a href="{{ url_for('admin_bp.beranda_admin') }}"><i class="bi bi-speedometer2"></i> Beranda</a>
        <a href="{{ url_for('admin_bp.daftar_kehilangan') }}"><i class="bi bi-question-circle"></i> Kehilangan</a>
        <a href="#" class="active"><i class="bi bi-archive"></i> Penemuan</a>

        <div class="submenu">
          <a href="{{ url_for('admin_bp.daftar_penemuan') }}"><i class="bi bi-list-ul"></i> Daftar Barang</a>
          <a href="{{ url_for('admin_bp.tambah_penemuan') }}"><i class="bi bi-plus-circle"></i> Tambah</a>
          <a href="{{ url_for('admin_bp.daftar_klaim_penemuan') }}" class="active"><i class="bi bi-hand-thumbs-up"></i> Klaim Barang</a>
        </div>

        <a href="{{ url_for('admin_bp.arsip') }}"><i class="bi bi-folder"></i> Arsip</a>
        <a href="{{ url_for('admin_bp.pengaturan') }}"><i class="bi bi-gear"></i> Pengaturan</a>
      </nav>
    </div>

    <a href="{{ url_for('admin_bp.logout_admin') }}" class="logout">
      <i class="bi bi-box-arrow-right"></i> Logout
    </a>
  </div>

  <!-- KONTEN -->
  <div class="content">
    <div class="header">
      <div class="logo-wrapper">
        <img src="{{ url_for('admin_bp.static', filename='image/rectangle2.png')}}" class="rectangle-bg">
        <img src="{{ url_for('admin_bp.static', filename='image/image5.png')}}" class="logo-front">
      </div>
      <h2>Penemuan - Detail Klaim Barang</h2>
      <div class="profile-icon"><i class="bi bi-person-circle"></i></div>
    </div>

<!-- ======================= WRAPPER DETAIL ======================= -->
<div class="detail-wrapper">
  <div class="detail-flex">

    <!-- BAGIAN KIRI -->
    <div class="detail-right">
        <div class="detail-photo-box">
            <img id="imgFotoBarang" src="" alt="Foto Barang">
        </div>
        <div class="kode-barang-label" id="kodeBarang"></div>


    <!-- BAGIAN KANAN -->
        <!-- DATA PENGKLAIM -->
        <div class="data-section">
            <h3>Data Pengklaim</h3>

            <div class="data-row">
                <span>Nama</span>
                <strong id="namaPelapor"></strong>
            </div>

            <div class="data-row">
                <span>No. Telepon</span>
                <strong id="noTelp"></strong>
            </div>

            <div class="data-row">
                <span>Email</span>
                <strong id="emailPelapor"></strong>
            </div>
        </div>

        <!-- INFORMASI KLAIM -->
        <div class="data-section">
            <h3>Informasi Klaim</h3>

            <div class="data-row">
                <span>Kode Klaim</span>
                <strong id="kodeLaporan"></strong>
            </div>

            <div class="data-row">
              <span>Kode Laporan Kehilangan</span>
              <strong id="kodeLaporanKehilangan"></strong>
            </div>

            <div class="data-row">
                <span>Nama Barang</span>
                <strong id="namaBarang"></strong>
            </div>

            <div class="data-row">
                <span>Deskripsi Khusus</span>
                <strong id="deskripsiKhusus"></strong>
            </div>
        </div>

        <!-- IDENTITAS DIRI -->
        <div class="data-section">
            <h3>Identitas Diri</h3>
            <img id="imgIdentitas" class="foto-barang zoomable" style="width:230px; border:1px solid #000;">
        </div>

        <!-- BUKTI -->
        <div class="data-section">
            <h3>Bukti Laporan Kehilangan</h3>
            <img id="imgBukti" class="foto-barang zoomable" style="width:230px; border:1px solid #000;">
        </div>

        <!-- WAKTU & STATUS -->
        <div class="data-section">
            <h3>Waktu & Status</h3>

            <div class="data-row">
                <span>Tanggal Lapor</span>
                <strong id="tanggalLapor"></strong>
            </div>

            <div class="data-row">
                <span>Waktu Lapor</span>
                <strong id="waktuLapor"></strong>
            </div>

            <div class="data-row">
                <span>Update Terakhir</span>
                <strong id="updateTerakhir"></strong>
            </div>

            <div class="data-row">
                <span>Status Klaim</span>
                <select id="statusSelect" class="status-select">
                    <option value="Pending">Pending</option>
                    <option value="Verifikasi">Verifikasi</option>
                    <option value="Ditolak">Ditolak</option>
                    <option value="Siap Diambil">Siap Diambil</option>
                    <option value="Selesai">Selesai</option>
                </select>
            </div>

            <div class="data-row" style="align-items:flex-start;">
                <span>Catatan Admin</span>
                <textarea id="catatanAdmin" style="height:90px;"></textarea>
            </div>
        </div>

        <!-- ===================== -->
        <!--   BUTTON TURUN BAWAH  -->
        <!-- ===================== -->
        <div class="button-group">
            <button id="btnKembali" class="btn-kembali">Kembali</button>
            <button id="btnUpdate" class="btn-update">Update</button>
        </div>

    </div> <!-- end detail-right -->

  </div> <!-- end detail-flex -->
</div> <!-- end wrapper -->

  <!-- LIGHTBOX -->
  <div id="lightbox" class="lightbox">
    <span class="lightbox-close">&times;</span>
    <img id="lightbox-img" class="lightbox-img">
  </div>

  <script src="{{ url_for('admin_bp.static', filename='js/detail_klaim_penemuan.js') }}"></script>
  <script src="{{ url_for('admin_bp.static', filename='js/logout.js') }}"></script>

  <script>
    const zoomImgs = document.querySelectorAll(".zoomable");
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img");
    const closeBtn = document.querySelector(".lightbox-close");

    zoomImgs.forEach(img => {
      img.addEventListener("click", () => {
        lightbox.style.display = "flex";
        lightboxImg.src = img.src;
      });
    });

    closeBtn.onclick = () => lightbox.style.display = "none";
    lightbox.onclick = e => { if (e.target === lightbox) lightbox.style.display = "none"; };
  </script>

</body>
</html>
