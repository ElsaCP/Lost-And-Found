<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Laporan Penemuan</title>

  <link rel="stylesheet" href="{{ url_for('admin_bp.static', filename='css/beranda.css') }}">
  <link rel="stylesheet" href="{{ url_for('admin_bp.static', filename='css/daftar_penemuan.css') }}">
  <link rel="stylesheet" href="{{ url_for('admin_bp.static', filename='css/detail_penemuan.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
</head>

<body>

  <!-- ===== CONTENT ===== -->
  <div class="content">
    <div class="header">
      <h2>Edit Laporan Penemuan</h2>
    </div>

    <div class="detail-container">
      <div class="left-panel">
        <img id="fotoBarang" class="foto-barang"
             src="{{ laporan.gambar_barang or '/static/img/no-image.png' }}"
             alt="Foto Barang">

        <div id="kodeLaporan" class="kode-laporan">{{ laporan.kode_barang }}</div>
      </div>

      <div class="right-panel">

        <!-- FORM EDIT -->
        <form method="POST" action="/admin/penemuan/edit?kode={{ laporan.kode_barang }}">

          <div class="data-section">
            <h3>Data Pelapor</h3>

            <div class="data-row">
              <span>Nama :</span>
              <input name="nama_pelapor" type="text" value="{{ laporan.nama_pelapor }}">
            </div>

            <div class="data-row">
              <span>No. Telp :</span>
              <input name="no_telp" type="text" value="{{ laporan.no_telp }}">
            </div>

            <div class="data-row">
              <span>Email :</span>
              <input name="email" type="email" value="{{ laporan.email }}">
            </div>
          </div>

          <div class="data-section">
            <h3>Data Barang</h3>

            <div class="data-row">
              <span>Nama Barang :</span>
              <input name="nama_barang" type="text" value="{{ laporan.nama_barang }}">
            </div>

            <div class="data-row">
              <span>Jenis Laporan :</span>
              <input type="text" value="Penemuan" readonly>
            </div>

            <div class="data-row">
              <span>Kategori :</span>
              <input name="kategori" type="text" value="{{ laporan.kategori }}">
            </div>

            <div class="data-row">
              <span>Lokasi :</span>
              <input name="lokasi" type="text" value="{{ laporan.lokasi }}">
            </div>

            <div class="data-row">
              <span>Deskripsi :</span>
              <textarea name="deskripsi" rows="2">{{ laporan.deskripsi }}</textarea>
            </div>
          </div>

          <div class="data-section">
            <div class="data-row">
              <span>Tanggal Lapor :</span>
              <input type="text" value="{{ laporan.tanggal_lapor }}" readonly>
            </div>

            <div class="data-row">
              <span>Update Terakhir :</span>
              <input id="updateTerakhir" type="text"
                     name="update_terakhir"
                     value="{{ laporan.update_terakhir }}">
            </div>

            <div class="data-row">
              <span>Status :</span>
              <select name="status" class="status-select">
                <option value="Pending" {% if laporan.status == 'Pending' %}selected{% endif %}>Pending</option>
                <option value="Diverifikasi" {% if laporan.status == 'Diverifikasi' %}selected{% endif %}>Diverifikasi</option>
                <option value="Diklaim" {% if laporan.status == 'Diklaim' %}selected{% endif %}>Diklaim</option>
                <option value="Selesai" {% if laporan.status == 'Selesai' %}selected{% endif %}>Selesai</option>
              </select>
            </div>
          </div>

          <div class="button-group">
            <button type="button" id="btnKembali" class="btn btn-secondary">Kembali</button>
            <button type="submit" class="btn btn-primary">Simpan Perubahan</button>
          </div>

        </form>

      </div>
    </div>
  </div>

  <script src="{{ url_for('admin_bp.static', filename='js/edit_penemuan.js') }}"></script>
</body>
</html>
