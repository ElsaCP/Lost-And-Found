<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Form Kehilangan | Sistem Lost & Found</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Protest+Strike&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

  <link rel="stylesheet" href={{ url_for('static', filename='css/form_kehilangan.css') }}>

<link href="https://fonts.googleapis.com/css2?family=Reddit+Sans+Condensed:wght@700;800&family=Poppins:wght@400;500&display=swap" rel="stylesheet">
</head>

<body>

  <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">
        <img src={{ url_for('static', filename='image/logo injourney.png') }} alt="Logo">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav align-items-center">
          <li class="nav-item"><a class="nav-link active" href="{{ url_for('main.home') }}#hero">Beranda</a></li>
          <li class="nav-item"><a class="nav-link" href="{{ url_for('main.home') }}#statistik">Statistik</a></li>
          <li class="nav-item"><a class="nav-link" href="{{ url_for('main.home') }}#panduan">Panduan</a></li>
          <li class="nav-item"><a class="nav-link" href="#kontak">Kontak</a></li>
          <li class="nav-item ms-lg-3">
            <a href="/login" class="profile-icon"><i class="bi bi-person-circle"></i></a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

<div id="loadingOverlay" class="loading-overlay">
  <div class="loading-box">
    <div class="spinner"></div>
    <p>Mengirim laporan & email konfirmasiâ€¦<br>
       Mohon tunggu sebentar</p>
  </div>
</div>

<div class="header-top">
  <div class="back-btn" onclick="javascript:history.back()">
    <i class="bi bi-arrow-left"></i>
  </div>
  <div class="juanda-logo text_center">
    <img src="{{ url_for('static', filename='image/logo juanda 2.png')}}" alt="Logo Juanda">
  </div>
</div>

<section id="formKehilangan" class="container py-5">
  <div class="card shadow-lg border-0 p-4 mx-auto" style="max-width: 700px;">
    <h4 class="fw-bold mb-3 text-primary">Form Laporan Kehilangan</h4>
    <p class="text-secondary mb-4">Silakan isi dengan lengkap untuk melaporkan kehilangan barang Anda.</p>

    <form id="laporForm" enctype="multipart/form-data" novalidate>
      <h4 style="color:#0d69be">Data Diri</h4>
      <div class="mb-3">
        <label class="form-label">Nama Pelapor</label>
        <input type="text" name="nama_pelapor" class="form-control" placeholder="Nama lengkap" required>
      </div>
      <div class="mb-3">
        <label class="form-label">No. Telepon</label>
        <input type="text" name="no_telp" class="form-control" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" name="email" class="form-control" placeholder="email@gmail.com"required>
      </div>
      <div class="mb-3">
        <label class="form-label">Asal Negara</label>
        <input type="text" name="asal_negara" class="form-control" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Kota</label>
        <input type="text" name="kota" class="form-control" required>
      </div>

      <h4 style="color:#0d69be">Data Barang</h4>
      <div class="mb-3">
        <label class="form-label">Nama Barang</label>
        <input type="text" name="nama_barang" class="form-control" placeholder="tas, buku"  required>
      </div>
      <div class="mb-3">
        <label class="form-label">Kategori Barang</label>
        <select name="kategori" id="kategori" class="form-select" required>
          <option value="">Pilih Jenis Barang</option>
          <option value="Elektronik">Elektronik</option>
          <option value="Dompet">Dompet</option>
          <option value="Tas">Tas</option>
          <option value="Kunci">Kunci</option>
          <option value="Pakaian & Aksesoris">Pakaian & Aksesoris</option>
          <option value="Kendaraan & Aksesoris Kendaraan">Kendaraan & Aksesoris Kendaraan</option>
          <option value="Lainnya">Lainnya</option>
        </select>
      </div>

      <div class="mb-3" id="lainnyaContainer" style="display:none;">
        <label class="form-label">Kategori Barang Lainnya</label>
        <input type="text" id="kategori_lainnya" class="form-control" placeholder="Masukkan jenis barang">
      </div>

      <div class="mb-3">
        <label class="form-label">Lokasi Kehilangan</label>

        <div class="row g-2">
          <div class="col-md-6">
            <label for="terminal" class="form-label">Terminal:</label>
            <select id="terminal" name="terminal" class="form-select" required>
              <option value="">Pilih Terminal</option>
              <option value="Terminal 1">Terminal 1</option>
              <option value="Terminal 2">Terminal 2</option>
            </select>
          </div>

          <div class="col-md-6">
            <label for="tempat" class="form-label">Tempat:</label>
            <select id="tempat" name="tempat" class="form-select" required>
              <option value="">Pilih Lokasi</option>
            </select>
          </div>
        </div>

        <div class="mt-2" id="lokasiLainContainer" style="display:none;">
          <label class="form-label">Tulis Lokasi Lainnya</label>
          <input type="text" id="lokasi_lain" name="lokasi_lain" class="form-control" placeholder="Contoh: Toilet dekat Gate D">
        </div>

        <input type="hidden" id="lokasi" name="lokasi">
      </div>
      <script>
        const terminalSelect = document.getElementById('terminal');
        const tempatSelect = document.getElementById('tempat');
        const lokasiLainContainer = document.getElementById('lokasiLainContainer');

        const tempatData = {
          "Terminal 1": ["Gate A", "Gate B", "Waiting Area T1", "Bagasi", "Lainnya"],
          "Terminal 2": ["Gate C", "Gate D", "Waiting Area T2", "Bagasi", "Lainnya"]
        };

        terminalSelect.addEventListener('change', function () {
          const terminal = this.value;
          tempatSelect.innerHTML = '<option value="">Pilih Lokasi</option>';
          lokasiLainContainer.style.display = "none";
          if (tempatData[terminal]) {
            tempatData[terminal].forEach(loc => {
              const opt = document.createElement("option");
              opt.value = loc;
              opt.textContent = loc;
              tempatSelect.appendChild(opt);
            });
          }
        });

        tempatSelect.addEventListener('change', function () {
          if (this.value === "Lainnya") {
            lokasiLainContainer.style.display = "block";
          } else {
            lokasiLainContainer.style.display = "none";
          }
        });
      </script>
      
      <div class="mb-3">
        <label class="form-label">Tanggal Kehilangan</label>
        <input type="date" name="tanggal_kehilangan" class="form-control" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Deskripsi Barang</label>
        <textarea name="deskripsi" class="form-control" rows="3" placeholder="Ciri khas, warna, dan detail barang" required></textarea>
      </div>
      <div class="mb-3">
        <label class="form-label">Foto Barang</label>
        <input type="file" name="foto" class="form-control" accept="image/*" required>
      </div>
      <div class="form-check mb-3">
        <input type="checkbox" class="form-check-input" id="tanggung" required>
        <label class="form-check-label" for="tanggung">Saya bertanggung jawab atas kebenaran laporan ini.</label>
      </div>
      <button type="submit" class="btn btn-primary w-100 py-2">Submit</button>
    </form>
  </div>
</section>

<div class="popup" id="popupKonfirmasi">
  <div class="popup-content">
    <img src="https://cdn-icons-png.flaticon.com/512/190/190411.png" alt="Konfirmasi">
    <h5>Apakah data Anda sudah benar?</h5>
    <div class="popup-buttons">
      <button class="btn btn-secondary" onclick="tutupPopup()">Batal</button>
      <button class="btn btn-primary" onclick="kirimData()">Kirim</button>
    </div>
  </div>
</div>

<div class="popup" id="popupSukses">
  <div class="popup-content">
    <img src="https://cdn-icons-png.flaticon.com/512/845/845646.png" alt="Sukses">
    <h5>Laporan Berhasil Dikirim!</h5>
    <p>Kode Kehilangan Anda: <b id="kodeKehilangan"></b></p>
    <button class="btn btn-primary" onclick="tutupSukses()">Tutup</button>
  </div>
</div>

<section class="footer" id="kontak">
  <footer class="footer text-white" id="kontak">
    <div class="footer-container">
      <div class="footer-top">
        <div class="footer-logo">
          <img src="{{ url_for('static', filename='image/logo putih.png')}}" alt="InJourney Airports">
        </div>

        <div class="footer-address">
          <p>Jl. Juanda, Segoro Tambak, Kec. Sedati,<br>
          Kabupaten Sidoarjo, Jawa Timur 61253 - Indonesia</p>
        </div>

        <div class="footer-contact">
          <p><strong>Contact Center :</strong> @ccinjourneyairports</p>
          <p>ðŸ“ž 172 &nbsp; | &nbsp; ðŸ“§ cc172@injourneyairports.id</p>
          <p>Ph : T1 (+62 31 2986200) &nbsp; | &nbsp; T2 (+62 31 2986700)</p>
        </div>

        <div class="footer-icons">
          <a href="tel:(0623)12986200" class="text-white"><i class="fas fa-phone"></i></a>
          <a href="mailto:humas.sub@ap1.co.id" class="text-white"><i class="fas fa-envelope"></i></a>
          <a href="https://www.instagram.com/juanda_airport" target="_blank" class="text-white"><i class="fab fa-instagram"></i></a>
        </div>
      </div>

      <hr class="footer-divider">

      <div class="footer-bottom text-center small">
        Â© 2025 PT. ANGKASA PURA | BANDARA INTERNASIONAL JUANDA
      </div>
    </div>
  </footer>
</section>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/form_kehilangan.js') }}"></script>
</body>
</html>
